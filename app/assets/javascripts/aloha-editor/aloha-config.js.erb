(function (window, undefined) {

  if (window.Aloha === undefined || window.Aloha === null) {
    var Aloha                        = window.Aloha = {};
  }

  Aloha.settings                     = {
    <% if Rails.env.production? %>  
    baseUrl: '/assets/aloha-editor/lib/',
    <% else %>
    baseUrl: '<%= Rails.application.config.assets.prefix %>/aloha-editor/lib/',
    <% end %>
    logLevels: {
      'error': true,
      'warn': true,
      'info': true,
      'debug': true
    },
    errorhandling: true,
    ribbon: true,
    i18n: {
      acceptLanguage: 'fr,de-de,de;q = 0.8,it;q=0.6,en-us;q=0.7,en;q=0.2'
    },
    plugins: {
      format: {
        // all elements with no specific configuration get this configuration
        config: ['b', 'i', 'p', 'sub', 'sup', 'del', 'title', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre', 'removeFormat'],
  //      config: ['b', 'i', 'sub', 'sup'],
        editables: {
          // no formatting allowed for title
          '#title': [],
          // content is a DIV and has class .article so it gets both buttons
          '#content': ['b', 'i', 'p', 'title', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre', 'removeFormat']
        }
      },
      dragndropfiles: {
        config: {
          drop: {
            max_file_size: '200000',
            upload: { //'uploader_class':GENTICS.Aloha.Uploader, //this is the default
              config: {
                url: '/media/images_dragged/',
                extra_headers: {
                  'Accept': 'application/json'
                },
                additional_params: {
                  "location": ""
                },
                www_encoded: false
              }
            }
          }
        }
      },
      table: {
        config: ['table']
      },
      image: {
        config: {
          'img': {
            'max_width': '50px',
            'max_height': '50px'
          }
        },
        editables: {
          '#title': {},
        }
      },
      block: {
        dragdrop : true,
        defaults : {
          '.default-block': {
          },
          '.columnBlock': {
            'aloha-block-type': 'ColumnBlock'
          },
          '.uneditableColumnBlock': {
            'aloha-block-type': 'UneditableColumnBlock'
          },
          '.product-teaser': {
            'aloha-block-type': 'ProductTeaserBlock'
          },
          '.company': {
            'aloha-block-type': 'CompanyBlock'
          },
          '.imageBlock': {
            'aloha-block-type': 'ImageBlock'
          },
          '.editableImageBlock': {
            'aloha-block-type': 'EditableImageBlock'
          },
          '.news-block': {
            'aloha-block-type': 'NewsBlock'
          },
          '.sortable-news-block': {
            'aloha-block-type': 'SortableNewsBlock'
          },
          '.editable-product-teaser': {
            'aloha-block-type': 'EditableProductTeaserBlock'
          }
        }
      }
    },
    sidebar: {
      disabled: true
    }
  };
  //Aloha.settings.jQuery            = Aloha.settings.jQuery || jQuery.noConflict(true);

})(window);